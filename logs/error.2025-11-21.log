2025-11-21 00:00:58.041 ERROR [main @coroutine#569] jp.assasans.protanki.server.client.UserSocket - Failed to call Lobby::ExitFromBattle handler
kotlinx.coroutines.JobCancellationException: Job was cancelled
	at kotlinx.coroutines.JobSupport.cancel(JobSupport.kt:1603)
	at kotlinx.coroutines.CoroutineScopeKt.cancel(CoroutineScope.kt:287)
	at kotlinx.coroutines.CoroutineScopeKt.cancel$default(CoroutineScope.kt:285)
	at jp.assasans.protanki.server.client.UserSocket.deactivate(UserSocket.kt:146)
	at jp.assasans.protanki.server.client.UserSocket$deactivate$1.invokeSuspend(UserSocket.kt)
	at (Coroutine boundary.()
	at jp.assasans.protanki.server.client.UserSocket.loadLobbyResources(UserSocket.kt:354)
	at jp.assasans.protanki.server.commands.handlers.BattleHandler.exitFromBattle(BattleHandler.kt:298)
	at kotlin.reflect.full.KCallables.callSuspendBy(KCallables.kt:74)
	at jp.assasans.protanki.server.client.UserSocket.processPacket(UserSocket.kt:276)
	at jp.assasans.protanki.server.client.UserSocket$handle$3.invokeSuspend(UserSocket.kt:331)
	at (Coroutine creation stacktrace.()
	at kotlin.coroutines.intrinsics.IntrinsicsKt__IntrinsicsJvmKt.createCoroutineUnintercepted(IntrinsicsJvm.kt:122)
	at kotlinx.coroutines.intrinsics.CancellableKt.startCoroutineCancellable(Cancellable.kt:30)
	at kotlinx.coroutines.BuildersKt__Builders_commonKt.launch$default(Builders.common.kt:47)
	at kotlinx.coroutines.BuildersKt.launch$default(Unknown Source)
	at jp.assasans.protanki.server.client.UserSocket.handle(UserSocket.kt:331)
	at jp.assasans.protanki.server.client.UserSocket$handle$1.invokeSuspend(UserSocket.kt)
	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)
	at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:106)
	at kotlinx.coroutines.BuildersKt__BuildersKt.runBlocking$default(Builders.kt:40)
	at kotlinx.coroutines.BuildersKt.runBlocking$default(Unknown Source)
	at jp.assasans.protanki.server.MainKt$main$1.run(Main.kt:133)
	at com.github.ajalt.clikt.parsers.Parser.parse(Parser.kt:198)
	at com.github.ajalt.clikt.parsers.Parser.parse(Parser.kt:18)
	at com.github.ajalt.clikt.core.CliktCommand.parse(CliktCommand.kt:400)
	at com.github.ajalt.clikt.core.CliktCommand.parse$default(CliktCommand.kt:397)
	at com.github.ajalt.clikt.core.CliktCommand.main(CliktCommand.kt:415)
	at com.github.ajalt.clikt.core.CliktCommand.main(CliktCommand.kt:440)
	at jp.assasans.protanki.server.MainKt.main(Main.kt:229)
Caused by: kotlinx.coroutines.JobCancellationException: Job was cancelled
	at kotlinx.coroutines.JobSupport.cancel(JobSupport.kt:1603)
	at kotlinx.coroutines.CoroutineScopeKt.cancel(CoroutineScope.kt:287)
	at kotlinx.coroutines.CoroutineScopeKt.cancel$default(CoroutineScope.kt:285)
	at jp.assasans.protanki.server.client.UserSocket.deactivate(UserSocket.kt:146)
	at jp.assasans.protanki.server.client.UserSocket$deactivate$1.invokeSuspend(UserSocket.kt)
	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)
	at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:106)
	at kotlinx.coroutines.EventLoopImplBase.processNextEvent(EventLoop.common.kt:277)
	at kotlinx.coroutines.BlockingCoroutine.joinBlocking(Builders.kt:87)
	at kotlinx.coroutines.BuildersKt__BuildersKt.runBlocking(Builders.kt:61)
	at kotlinx.coroutines.BuildersKt.runBlocking(Unknown Source)
	... 10 common frames omitted
2025-11-21 00:00:58.044 ERROR [main @coroutine#587] jp.assasans.protanki.server.client.UserSocket - Failed to call Lobby::SwitchBattleSelect handler
kotlinx.coroutines.JobCancellationException: Job was cancelled
	at kotlinx.coroutines.JobSupport.cancel(JobSupport.kt:1603)
	at kotlinx.coroutines.CoroutineScopeKt.cancel(CoroutineScope.kt:287)
	at kotlinx.coroutines.CoroutineScopeKt.cancel$default(CoroutineScope.kt:285)
	at jp.assasans.protanki.server.client.UserSocket.deactivate(UserSocket.kt:146)
	at jp.assasans.protanki.server.client.UserSocket$deactivate$1.invokeSuspend(UserSocket.kt)
	at (Coroutine boundary.()
	at jp.assasans.protanki.server.client.UserSocket.loadLobbyResources(UserSocket.kt:354)
	at jp.assasans.protanki.server.commands.handlers.LobbyHandler.switchBattleSelect(LobbyHandler.kt:286)
	at kotlin.reflect.full.KCallables.callSuspendBy(KCallables.kt:74)
	at jp.assasans.protanki.server.client.UserSocket.processPacket(UserSocket.kt:276)
	at jp.assasans.protanki.server.client.UserSocket$handle$3.invokeSuspend(UserSocket.kt:331)
	at (Coroutine creation stacktrace.()
	at kotlin.coroutines.intrinsics.IntrinsicsKt__IntrinsicsJvmKt.createCoroutineUnintercepted(IntrinsicsJvm.kt:122)
	at kotlinx.coroutines.intrinsics.CancellableKt.startCoroutineCancellable(Cancellable.kt:30)
	at kotlinx.coroutines.BuildersKt__Builders_commonKt.launch$default(Builders.common.kt:47)
	at kotlinx.coroutines.BuildersKt.launch$default(Unknown Source)
	at jp.assasans.protanki.server.client.UserSocket.handle(UserSocket.kt:331)
	at jp.assasans.protanki.server.client.UserSocket$handle$1.invokeSuspend(UserSocket.kt)
	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)
	at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:106)
	at kotlinx.coroutines.BuildersKt__BuildersKt.runBlocking$default(Builders.kt:40)
	at kotlinx.coroutines.BuildersKt.runBlocking$default(Unknown Source)
	at jp.assasans.protanki.server.MainKt$main$1.run(Main.kt:133)
	at com.github.ajalt.clikt.parsers.Parser.parse(Parser.kt:198)
	at com.github.ajalt.clikt.parsers.Parser.parse(Parser.kt:18)
	at com.github.ajalt.clikt.core.CliktCommand.parse(CliktCommand.kt:400)
	at com.github.ajalt.clikt.core.CliktCommand.parse$default(CliktCommand.kt:397)
	at com.github.ajalt.clikt.core.CliktCommand.main(CliktCommand.kt:415)
	at com.github.ajalt.clikt.core.CliktCommand.main(CliktCommand.kt:440)
	at jp.assasans.protanki.server.MainKt.main(Main.kt:229)
Caused by: kotlinx.coroutines.JobCancellationException: Job was cancelled
	at kotlinx.coroutines.JobSupport.cancel(JobSupport.kt:1603)
	at kotlinx.coroutines.CoroutineScopeKt.cancel(CoroutineScope.kt:287)
	at kotlinx.coroutines.CoroutineScopeKt.cancel$default(CoroutineScope.kt:285)
	at jp.assasans.protanki.server.client.UserSocket.deactivate(UserSocket.kt:146)
	at jp.assasans.protanki.server.client.UserSocket$deactivate$1.invokeSuspend(UserSocket.kt)
	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)
	at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:106)
	at kotlinx.coroutines.EventLoopImplBase.processNextEvent(EventLoop.common.kt:277)
	at kotlinx.coroutines.BlockingCoroutine.joinBlocking(Builders.kt:87)
	at kotlinx.coroutines.BuildersKt__BuildersKt.runBlocking(Builders.kt:61)
	at kotlinx.coroutines.BuildersKt.runBlocking(Unknown Source)
	... 10 common frames omitted
2025-11-21 00:02:28.455 ERROR [main @coroutine#981] jp.assasans.protanki.server.client.UserSocket - Failed to call Lobby::ExitFromBattle handler
java.lang.Exception: No BattlePlayer
	at jp.assasans.protanki.server.commands.handlers.BattleHandler.exitFromBattle(BattleHandler.kt:285)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at kotlin.reflect.jvm.internal.calls.CallerImpl$Method.callMethod(CallerImpl.kt:97)
	at kotlin.reflect.jvm.internal.calls.CallerImpl$Method$Instance.call(CallerImpl.kt:113)
	at kotlin.reflect.jvm.internal.KCallableImpl.call(KCallableImpl.kt:108)
	at kotlin.reflect.jvm.internal.KCallableImpl.callDefaultMethod$kotlin_reflection(KCallableImpl.kt:159)
	at kotlin.reflect.full.KCallables.callSuspendBy(KCallables.kt:74)
	at jp.assasans.protanki.server.client.UserSocket.processPacket(UserSocket.kt:276)
	at jp.assasans.protanki.server.client.UserSocket.access$processPacket(UserSocket.kt:72)
	at jp.assasans.protanki.server.client.UserSocket$handle$3.invokeSuspend(UserSocket.kt:331)
	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)
	at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:106)
	at kotlinx.coroutines.EventLoopImplBase.processNextEvent(EventLoop.common.kt:277)
	at kotlinx.coroutines.BlockingCoroutine.joinBlocking(Builders.kt:87)
	at kotlinx.coroutines.BuildersKt__BuildersKt.runBlocking(Builders.kt:61)
	at kotlinx.coroutines.BuildersKt.runBlocking(Unknown Source)
	at kotlinx.coroutines.BuildersKt__BuildersKt.runBlocking$default(Builders.kt:40)
	at kotlinx.coroutines.BuildersKt.runBlocking$default(Unknown Source)
	at jp.assasans.protanki.server.MainKt$main$1.run(Main.kt:133)
	at com.github.ajalt.clikt.parsers.Parser.parse(Parser.kt:198)
	at com.github.ajalt.clikt.parsers.Parser.parse(Parser.kt:18)
	at com.github.ajalt.clikt.core.CliktCommand.parse(CliktCommand.kt:400)
	at com.github.ajalt.clikt.core.CliktCommand.parse$default(CliktCommand.kt:397)
	at com.github.ajalt.clikt.core.CliktCommand.main(CliktCommand.kt:415)
	at com.github.ajalt.clikt.core.CliktCommand.main(CliktCommand.kt:440)
	at jp.assasans.protanki.server.MainKt.main(Main.kt:229)
2025-11-21 00:02:31.822 ERROR [main @coroutine#969] jp.assasans.protanki.server.client.UserSocket - Failed to call Lobby::ExitFromBattle handler
kotlinx.coroutines.JobCancellationException: Job was cancelled
	at kotlinx.coroutines.JobSupport.cancel(JobSupport.kt:1603)
	at kotlinx.coroutines.CoroutineScopeKt.cancel(CoroutineScope.kt:287)
	at kotlinx.coroutines.CoroutineScopeKt.cancel$default(CoroutineScope.kt:285)
	at jp.assasans.protanki.server.client.UserSocket.deactivate(UserSocket.kt:146)
	at jp.assasans.protanki.server.client.UserSocket$deactivate$1.invokeSuspend(UserSocket.kt)
	at (Coroutine boundary.()
	at jp.assasans.protanki.server.client.UserSocket.loadLobbyResources(UserSocket.kt:354)
	at jp.assasans.protanki.server.commands.handlers.BattleHandler.exitFromBattle(BattleHandler.kt:298)
	at kotlin.reflect.full.KCallables.callSuspendBy(KCallables.kt:74)
	at jp.assasans.protanki.server.client.UserSocket.processPacket(UserSocket.kt:276)
	at jp.assasans.protanki.server.client.UserSocket$handle$3.invokeSuspend(UserSocket.kt:331)
	at (Coroutine creation stacktrace.()
	at kotlin.coroutines.intrinsics.IntrinsicsKt__IntrinsicsJvmKt.createCoroutineUnintercepted(IntrinsicsJvm.kt:122)
	at kotlinx.coroutines.intrinsics.CancellableKt.startCoroutineCancellable(Cancellable.kt:30)
	at kotlinx.coroutines.BuildersKt__Builders_commonKt.launch$default(Builders.common.kt:47)
	at kotlinx.coroutines.BuildersKt.launch$default(Unknown Source)
	at jp.assasans.protanki.server.client.UserSocket.handle(UserSocket.kt:331)
	at jp.assasans.protanki.server.client.UserSocket$handle$1.invokeSuspend(UserSocket.kt)
	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)
	at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:106)
	at kotlinx.coroutines.BuildersKt__BuildersKt.runBlocking$default(Builders.kt:40)
	at kotlinx.coroutines.BuildersKt.runBlocking$default(Unknown Source)
	at jp.assasans.protanki.server.MainKt$main$1.run(Main.kt:133)
	at com.github.ajalt.clikt.parsers.Parser.parse(Parser.kt:198)
	at com.github.ajalt.clikt.parsers.Parser.parse(Parser.kt:18)
	at com.github.ajalt.clikt.core.CliktCommand.parse(CliktCommand.kt:400)
	at com.github.ajalt.clikt.core.CliktCommand.parse$default(CliktCommand.kt:397)
	at com.github.ajalt.clikt.core.CliktCommand.main(CliktCommand.kt:415)
	at com.github.ajalt.clikt.core.CliktCommand.main(CliktCommand.kt:440)
	at jp.assasans.protanki.server.MainKt.main(Main.kt:229)
Caused by: kotlinx.coroutines.JobCancellationException: Job was cancelled
	at kotlinx.coroutines.JobSupport.cancel(JobSupport.kt:1603)
	at kotlinx.coroutines.CoroutineScopeKt.cancel(CoroutineScope.kt:287)
	at kotlinx.coroutines.CoroutineScopeKt.cancel$default(CoroutineScope.kt:285)
	at jp.assasans.protanki.server.client.UserSocket.deactivate(UserSocket.kt:146)
	at jp.assasans.protanki.server.client.UserSocket$deactivate$1.invokeSuspend(UserSocket.kt)
	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)
	at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:106)
	at kotlinx.coroutines.EventLoopImplBase.processNextEvent(EventLoop.common.kt:277)
	at kotlinx.coroutines.BlockingCoroutine.joinBlocking(Builders.kt:87)
	at kotlinx.coroutines.BuildersKt__BuildersKt.runBlocking(Builders.kt:61)
	at kotlinx.coroutines.BuildersKt.runBlocking(Unknown Source)
	... 10 common frames omitted
2025-11-21 00:02:32.670 ERROR [main @coroutine#979] jp.assasans.protanki.server.client.UserSocket - Failed to call Lobby::ExitFromBattle handler
kotlinx.coroutines.JobCancellationException: Job was cancelled
	at kotlinx.coroutines.JobSupport.cancel(JobSupport.kt:1603)
	at kotlinx.coroutines.CoroutineScopeKt.cancel(CoroutineScope.kt:287)
	at kotlinx.coroutines.CoroutineScopeKt.cancel$default(CoroutineScope.kt:285)
	at jp.assasans.protanki.server.client.UserSocket.deactivate(UserSocket.kt:146)
	at jp.assasans.protanki.server.client.UserSocket$deactivate$1.invokeSuspend(UserSocket.kt)
	at (Coroutine boundary.()
	at jp.assasans.protanki.server.client.UserSocket.loadLobbyResources(UserSocket.kt:354)
	at jp.assasans.protanki.server.commands.handlers.BattleHandler.exitFromBattle(BattleHandler.kt:298)
	at kotlin.reflect.full.KCallables.callSuspendBy(KCallables.kt:74)
	at jp.assasans.protanki.server.client.UserSocket.processPacket(UserSocket.kt:276)
	at jp.assasans.protanki.server.client.UserSocket$handle$3.invokeSuspend(UserSocket.kt:331)
	at (Coroutine creation stacktrace.()
	at kotlin.coroutines.intrinsics.IntrinsicsKt__IntrinsicsJvmKt.createCoroutineUnintercepted(IntrinsicsJvm.kt:122)
	at kotlinx.coroutines.intrinsics.CancellableKt.startCoroutineCancellable(Cancellable.kt:30)
	at kotlinx.coroutines.BuildersKt__Builders_commonKt.launch$default(Builders.common.kt:47)
	at kotlinx.coroutines.BuildersKt.launch$default(Unknown Source)
	at jp.assasans.protanki.server.client.UserSocket.handle(UserSocket.kt:331)
	at jp.assasans.protanki.server.client.UserSocket$handle$1.invokeSuspend(UserSocket.kt)
	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)
	at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:106)
	at kotlinx.coroutines.BuildersKt__BuildersKt.runBlocking$default(Builders.kt:40)
	at kotlinx.coroutines.BuildersKt.runBlocking$default(Unknown Source)
	at jp.assasans.protanki.server.MainKt$main$1.run(Main.kt:133)
	at com.github.ajalt.clikt.parsers.Parser.parse(Parser.kt:198)
	at com.github.ajalt.clikt.parsers.Parser.parse(Parser.kt:18)
	at com.github.ajalt.clikt.core.CliktCommand.parse(CliktCommand.kt:400)
	at com.github.ajalt.clikt.core.CliktCommand.parse$default(CliktCommand.kt:397)
	at com.github.ajalt.clikt.core.CliktCommand.main(CliktCommand.kt:415)
	at com.github.ajalt.clikt.core.CliktCommand.main(CliktCommand.kt:440)
	at jp.assasans.protanki.server.MainKt.main(Main.kt:229)
Caused by: kotlinx.coroutines.JobCancellationException: Job was cancelled
	at kotlinx.coroutines.JobSupport.cancel(JobSupport.kt:1603)
	at kotlinx.coroutines.CoroutineScopeKt.cancel(CoroutineScope.kt:287)
	at kotlinx.coroutines.CoroutineScopeKt.cancel$default(CoroutineScope.kt:285)
	at jp.assasans.protanki.server.client.UserSocket.deactivate(UserSocket.kt:146)
	at jp.assasans.protanki.server.client.UserSocket$deactivate$1.invokeSuspend(UserSocket.kt)
	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)
	at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:106)
	at kotlinx.coroutines.EventLoopImplBase.processNextEvent(EventLoop.common.kt:277)
	at kotlinx.coroutines.BlockingCoroutine.joinBlocking(Builders.kt:87)
	at kotlinx.coroutines.BuildersKt__BuildersKt.runBlocking(Builders.kt:61)
	at kotlinx.coroutines.BuildersKt.runBlocking(Unknown Source)
	... 10 common frames omitted
2025-11-21 00:19:05.143 ERROR [main @coroutine#623] jp.assasans.protanki.server.client.UserSocket - Failed to call Lobby::ExitFromBattle handler
kotlinx.coroutines.JobCancellationException: Job was cancelled
	at kotlinx.coroutines.JobSupport.cancel(JobSupport.kt:1603)
	at kotlinx.coroutines.CoroutineScopeKt.cancel(CoroutineScope.kt:287)
	at kotlinx.coroutines.CoroutineScopeKt.cancel$default(CoroutineScope.kt:285)
	at jp.assasans.protanki.server.client.UserSocket.deactivate(UserSocket.kt:146)
	at jp.assasans.protanki.server.client.UserSocket$deactivate$1.invokeSuspend(UserSocket.kt)
	at (Coroutine boundary.()
	at jp.assasans.protanki.server.client.UserSocket.loadLobbyResources(UserSocket.kt:354)
	at jp.assasans.protanki.server.commands.handlers.BattleHandler.exitFromBattle(BattleHandler.kt:298)
	at kotlin.reflect.full.KCallables.callSuspendBy(KCallables.kt:74)
	at jp.assasans.protanki.server.client.UserSocket.processPacket(UserSocket.kt:276)
	at jp.assasans.protanki.server.client.UserSocket$handle$3.invokeSuspend(UserSocket.kt:331)
	at (Coroutine creation stacktrace.()
	at kotlin.coroutines.intrinsics.IntrinsicsKt__IntrinsicsJvmKt.createCoroutineUnintercepted(IntrinsicsJvm.kt:122)
	at kotlinx.coroutines.intrinsics.CancellableKt.startCoroutineCancellable(Cancellable.kt:30)
	at kotlinx.coroutines.BuildersKt__Builders_commonKt.launch$default(Builders.common.kt:47)
	at kotlinx.coroutines.BuildersKt.launch$default(Unknown Source)
	at jp.assasans.protanki.server.client.UserSocket.handle(UserSocket.kt:331)
	at jp.assasans.protanki.server.client.UserSocket$handle$1.invokeSuspend(UserSocket.kt)
	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)
	at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:106)
	at kotlinx.coroutines.BuildersKt__BuildersKt.runBlocking$default(Builders.kt:40)
	at kotlinx.coroutines.BuildersKt.runBlocking$default(Unknown Source)
	at jp.assasans.protanki.server.MainKt$main$1.run(Main.kt:133)
	at com.github.ajalt.clikt.parsers.Parser.parse(Parser.kt:198)
	at com.github.ajalt.clikt.parsers.Parser.parse(Parser.kt:18)
	at com.github.ajalt.clikt.core.CliktCommand.parse(CliktCommand.kt:400)
	at com.github.ajalt.clikt.core.CliktCommand.parse$default(CliktCommand.kt:397)
	at com.github.ajalt.clikt.core.CliktCommand.main(CliktCommand.kt:415)
	at com.github.ajalt.clikt.core.CliktCommand.main(CliktCommand.kt:440)
	at jp.assasans.protanki.server.MainKt.main(Main.kt:229)
Caused by: kotlinx.coroutines.JobCancellationException: Job was cancelled
	at kotlinx.coroutines.JobSupport.cancel(JobSupport.kt:1603)
	at kotlinx.coroutines.CoroutineScopeKt.cancel(CoroutineScope.kt:287)
	at kotlinx.coroutines.CoroutineScopeKt.cancel$default(CoroutineScope.kt:285)
	at jp.assasans.protanki.server.client.UserSocket.deactivate(UserSocket.kt:146)
	at jp.assasans.protanki.server.client.UserSocket$deactivate$1.invokeSuspend(UserSocket.kt)
	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)
	at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:106)
	at kotlinx.coroutines.EventLoopImplBase.processNextEvent(EventLoop.common.kt:277)
	at kotlinx.coroutines.BlockingCoroutine.joinBlocking(Builders.kt:87)
	at kotlinx.coroutines.BuildersKt__BuildersKt.runBlocking(Builders.kt:61)
	at kotlinx.coroutines.BuildersKt.runBlocking(Unknown Source)
	... 10 common frames omitted
2025-11-21 00:39:26.383 ERROR [main @coroutine#813] jp.assasans.protanki.server.client.UserSocket - Failed to call Battle::ReadyToSpawn handler
kotlinx.coroutines.JobCancellationException: Job was cancelled
	at kotlinx.coroutines.JobSupport.cancel(JobSupport.kt:1603)
	at kotlinx.coroutines.CoroutineScopeKt.cancel(CoroutineScope.kt:287)
	at kotlinx.coroutines.CoroutineScopeKt.cancel$default(CoroutineScope.kt:285)
	at jp.assasans.protanki.server.client.UserSocket.deactivate(UserSocket.kt:146)
	at jp.assasans.protanki.server.client.UserSocket$deactivate$1.invokeSuspend(UserSocket.kt)
	at (Coroutine boundary.()
	at jp.assasans.protanki.server.commands.handlers.BattleHandler.readyToSpawn(BattleHandler.kt:277)
	at kotlin.reflect.full.KCallables.callSuspendBy(KCallables.kt:74)
	at jp.assasans.protanki.server.client.UserSocket.processPacket(UserSocket.kt:276)
	at jp.assasans.protanki.server.client.UserSocket$handle$3.invokeSuspend(UserSocket.kt:331)
	at (Coroutine creation stacktrace.()
	at kotlin.coroutines.intrinsics.IntrinsicsKt__IntrinsicsJvmKt.createCoroutineUnintercepted(IntrinsicsJvm.kt:122)
	at kotlinx.coroutines.intrinsics.CancellableKt.startCoroutineCancellable(Cancellable.kt:30)
	at kotlinx.coroutines.BuildersKt__Builders_commonKt.launch$default(Builders.common.kt:47)
	at kotlinx.coroutines.BuildersKt.launch$default(Unknown Source)
	at jp.assasans.protanki.server.client.UserSocket.handle(UserSocket.kt:331)
	at jp.assasans.protanki.server.client.UserSocket$handle$1.invokeSuspend(UserSocket.kt)
	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)
	at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:106)
	at kotlinx.coroutines.BuildersKt__BuildersKt.runBlocking$default(Builders.kt:40)
	at kotlinx.coroutines.BuildersKt.runBlocking$default(Unknown Source)
	at jp.assasans.protanki.server.MainKt$main$1.run(Main.kt:133)
	at com.github.ajalt.clikt.parsers.Parser.parse(Parser.kt:198)
	at com.github.ajalt.clikt.parsers.Parser.parse(Parser.kt:18)
	at com.github.ajalt.clikt.core.CliktCommand.parse(CliktCommand.kt:400)
	at com.github.ajalt.clikt.core.CliktCommand.parse$default(CliktCommand.kt:397)
	at com.github.ajalt.clikt.core.CliktCommand.main(CliktCommand.kt:415)
	at com.github.ajalt.clikt.core.CliktCommand.main(CliktCommand.kt:440)
	at jp.assasans.protanki.server.MainKt.main(Main.kt:229)
Caused by: kotlinx.coroutines.JobCancellationException: Job was cancelled
	at kotlinx.coroutines.JobSupport.cancel(JobSupport.kt:1603)
	at kotlinx.coroutines.CoroutineScopeKt.cancel(CoroutineScope.kt:287)
	at kotlinx.coroutines.CoroutineScopeKt.cancel$default(CoroutineScope.kt:285)
	at jp.assasans.protanki.server.client.UserSocket.deactivate(UserSocket.kt:146)
	at jp.assasans.protanki.server.client.UserSocket$deactivate$1.invokeSuspend(UserSocket.kt)
	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)
	at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:106)
	at kotlinx.coroutines.EventLoopImplBase.processNextEvent(EventLoop.common.kt:277)
	at kotlinx.coroutines.BlockingCoroutine.joinBlocking(Builders.kt:87)
	at kotlinx.coroutines.BuildersKt__BuildersKt.runBlocking(Builders.kt:61)
	at kotlinx.coroutines.BuildersKt.runBlocking(Unknown Source)
	... 10 common frames omitted
2025-11-21 02:02:56.396 ERROR [main @coroutine#383] jp.assasans.protanki.server.client.UserSocket - Failed to call Lobby::ExitFromBattle handler
kotlinx.coroutines.JobCancellationException: Job was cancelled
	at kotlinx.coroutines.JobSupport.cancel(JobSupport.kt:1603)
	at kotlinx.coroutines.CoroutineScopeKt.cancel(CoroutineScope.kt:287)
	at kotlinx.coroutines.CoroutineScopeKt.cancel$default(CoroutineScope.kt:285)
	at jp.assasans.protanki.server.client.UserSocket.deactivate(UserSocket.kt:146)
	at jp.assasans.protanki.server.client.UserSocket$deactivate$1.invokeSuspend(UserSocket.kt)
	at (Coroutine boundary.()
	at jp.assasans.protanki.server.client.UserSocket.loadLobbyResources(UserSocket.kt:354)
	at jp.assasans.protanki.server.commands.handlers.BattleHandler.exitFromBattle(BattleHandler.kt:300)
	at kotlin.reflect.full.KCallables.callSuspendBy(KCallables.kt:74)
	at jp.assasans.protanki.server.client.UserSocket.processPacket(UserSocket.kt:276)
	at jp.assasans.protanki.server.client.UserSocket$handle$3.invokeSuspend(UserSocket.kt:331)
	at (Coroutine creation stacktrace.()
	at kotlin.coroutines.intrinsics.IntrinsicsKt__IntrinsicsJvmKt.createCoroutineUnintercepted(IntrinsicsJvm.kt:122)
	at kotlinx.coroutines.intrinsics.CancellableKt.startCoroutineCancellable(Cancellable.kt:30)
	at kotlinx.coroutines.BuildersKt__Builders_commonKt.launch$default(Builders.common.kt:47)
	at kotlinx.coroutines.BuildersKt.launch$default(Unknown Source)
	at jp.assasans.protanki.server.client.UserSocket.handle(UserSocket.kt:331)
	at jp.assasans.protanki.server.client.UserSocket$handle$1.invokeSuspend(UserSocket.kt)
	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)
	at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:106)
	at kotlinx.coroutines.BuildersKt__BuildersKt.runBlocking$default(Builders.kt:40)
	at kotlinx.coroutines.BuildersKt.runBlocking$default(Unknown Source)
	at jp.assasans.protanki.server.MainKt$main$1.run(Main.kt:133)
	at com.github.ajalt.clikt.parsers.Parser.parse(Parser.kt:198)
	at com.github.ajalt.clikt.parsers.Parser.parse(Parser.kt:18)
	at com.github.ajalt.clikt.core.CliktCommand.parse(CliktCommand.kt:400)
	at com.github.ajalt.clikt.core.CliktCommand.parse$default(CliktCommand.kt:397)
	at com.github.ajalt.clikt.core.CliktCommand.main(CliktCommand.kt:415)
	at com.github.ajalt.clikt.core.CliktCommand.main(CliktCommand.kt:440)
	at jp.assasans.protanki.server.MainKt.main(Main.kt:229)
Caused by: kotlinx.coroutines.JobCancellationException: Job was cancelled
	at kotlinx.coroutines.JobSupport.cancel(JobSupport.kt:1603)
	at kotlinx.coroutines.CoroutineScopeKt.cancel(CoroutineScope.kt:287)
	at kotlinx.coroutines.CoroutineScopeKt.cancel$default(CoroutineScope.kt:285)
	at jp.assasans.protanki.server.client.UserSocket.deactivate(UserSocket.kt:146)
	at jp.assasans.protanki.server.client.UserSocket$deactivate$1.invokeSuspend(UserSocket.kt)
	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)
	at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:106)
	at kotlinx.coroutines.EventLoopImplBase.processNextEvent(EventLoop.common.kt:277)
	at kotlinx.coroutines.BlockingCoroutine.joinBlocking(Builders.kt:87)
	at kotlinx.coroutines.BuildersKt__BuildersKt.runBlocking(Builders.kt:61)
	at kotlinx.coroutines.BuildersKt.runBlocking(Unknown Source)
	... 10 common frames omitted
2025-11-21 02:06:20.459 ERROR [main @coroutine#361] jp.assasans.protanki.server.client.UserSocket - Failed to call Lobby::ExitFromBattle handler
kotlinx.coroutines.JobCancellationException: Job was cancelled
	at kotlinx.coroutines.JobSupport.cancel(JobSupport.kt:1603)
	at kotlinx.coroutines.CoroutineScopeKt.cancel(CoroutineScope.kt:287)
	at kotlinx.coroutines.CoroutineScopeKt.cancel$default(CoroutineScope.kt:285)
	at jp.assasans.protanki.server.client.UserSocket.deactivate(UserSocket.kt:146)
	at jp.assasans.protanki.server.client.UserSocket$deactivate$1.invokeSuspend(UserSocket.kt)
	at (Coroutine boundary.()
	at jp.assasans.protanki.server.client.UserSocket.loadLobbyResources(UserSocket.kt:354)
	at jp.assasans.protanki.server.commands.handlers.BattleHandler.exitFromBattle(BattleHandler.kt:300)
	at kotlin.reflect.full.KCallables.callSuspendBy(KCallables.kt:74)
	at jp.assasans.protanki.server.client.UserSocket.processPacket(UserSocket.kt:276)
	at jp.assasans.protanki.server.client.UserSocket$handle$3.invokeSuspend(UserSocket.kt:331)
	at (Coroutine creation stacktrace.()
	at kotlin.coroutines.intrinsics.IntrinsicsKt__IntrinsicsJvmKt.createCoroutineUnintercepted(IntrinsicsJvm.kt:122)
	at kotlinx.coroutines.intrinsics.CancellableKt.startCoroutineCancellable(Cancellable.kt:30)
	at kotlinx.coroutines.BuildersKt__Builders_commonKt.launch$default(Builders.common.kt:47)
	at kotlinx.coroutines.BuildersKt.launch$default(Unknown Source)
	at jp.assasans.protanki.server.client.UserSocket.handle(UserSocket.kt:331)
	at jp.assasans.protanki.server.client.UserSocket$handle$1.invokeSuspend(UserSocket.kt)
	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)
	at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:106)
	at kotlinx.coroutines.BuildersKt__BuildersKt.runBlocking$default(Builders.kt:40)
	at kotlinx.coroutines.BuildersKt.runBlocking$default(Unknown Source)
	at jp.assasans.protanki.server.MainKt$main$1.run(Main.kt:133)
	at com.github.ajalt.clikt.parsers.Parser.parse(Parser.kt:198)
	at com.github.ajalt.clikt.parsers.Parser.parse(Parser.kt:18)
	at com.github.ajalt.clikt.core.CliktCommand.parse(CliktCommand.kt:400)
	at com.github.ajalt.clikt.core.CliktCommand.parse$default(CliktCommand.kt:397)
	at com.github.ajalt.clikt.core.CliktCommand.main(CliktCommand.kt:415)
	at com.github.ajalt.clikt.core.CliktCommand.main(CliktCommand.kt:440)
	at jp.assasans.protanki.server.MainKt.main(Main.kt:229)
Caused by: kotlinx.coroutines.JobCancellationException: Job was cancelled
	at kotlinx.coroutines.JobSupport.cancel(JobSupport.kt:1603)
	at kotlinx.coroutines.CoroutineScopeKt.cancel(CoroutineScope.kt:287)
	at kotlinx.coroutines.CoroutineScopeKt.cancel$default(CoroutineScope.kt:285)
	at jp.assasans.protanki.server.client.UserSocket.deactivate(UserSocket.kt:146)
	at jp.assasans.protanki.server.client.UserSocket$deactivate$1.invokeSuspend(UserSocket.kt)
	at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)
	at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:106)
	at kotlinx.coroutines.EventLoopImplBase.processNextEvent(EventLoop.common.kt:277)
	at kotlinx.coroutines.BlockingCoroutine.joinBlocking(Builders.kt:87)
	at kotlinx.coroutines.BuildersKt__BuildersKt.runBlocking(Builders.kt:61)
	at kotlinx.coroutines.BuildersKt.runBlocking(Unknown Source)
	... 10 common frames omitted
